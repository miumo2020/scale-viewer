(this["webpackJsonpscale-viewer"]=this["webpackJsonpscale-viewer"]||[]).push([[0],{12:function(e,n,t){},14:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t.n(r),c=t(7),a=t.n(c),l=(t(12),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,15)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),i(e),c(e),a(e)}))}),o=t(2),u=t(3),d=[{name:"maj",interval:[0,4,7]},{name:"m",interval:[0,3,7]},{name:"(b5)",interval:[0,4,6]},{name:"dim",interval:[0,3,6]},{name:"aug",interval:[0,4,8]},{name:"sus4",interval:[0,5,7]},{name:"sus2",interval:[0,2,7]},{name:"6",interval:[0,4,7,9]},{name:"m6",interval:[0,3,7,9]},{name:"7",interval:[0,4,7,10]},{name:"m7",interval:[0,3,7,10]},{name:"M7",interval:[0,4,7,11]},{name:"mM7",interval:[0,3,7,11]},{name:"7(b5)",interval:[0,4,6,10]},{name:"m7(b5)",interval:[0,3,6,10]},{name:"M7(b5)",interval:[0,4,6,11]},{name:"mM7(b5)",interval:[0,3,6,11]},{name:"7sus4",interval:[0,5,7,10]},{name:"dim7",interval:[0,3,6,9]},{name:"add9",interval:[0,2,4,7]},{name:"m(add9)",interval:[0,2,3,7]},{name:"add4",interval:[0,4,5,7]},{name:"aug7",interval:[0,4,8,10]}],s=[{name:"Major",interval:[0,2,4,5,7,9,11]},{name:"Natural Minor",interval:[0,2,3,5,7,8,10]},{name:"Harmonic Minor",interval:[0,2,3,5,7,8,11]},{name:"Melodic Minor",interval:[0,2,3,5,7,9,11]},{name:"Ionian",interval:[0,2,4,5,7,9,11]},{name:"Aeolian",interval:[0,2,3,5,7,8,10]},{name:"Dorian",interval:[0,2,3,5,7,9,10]},{name:"Phrygian",interval:[0,1,3,5,7,8,10]},{name:"Lydian",interval:[0,2,4,6,7,9,11]},{name:"Mixolydian",interval:[0,2,4,5,7,9,10]},{name:"Locrian",interval:[0,1,3,5,6,8,10]},{name:"Major Pentatonic",interval:[0,2,4,7,9]},{name:"Minor Pentatonic",interval:[0,3,5,7,10]},{name:"Diminished",interval:[0,2,3,5,6,8,9,11]},{name:"Whole Tone",interval:[0,2,4,6,8,10]}],j={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},b={0:"C",1:"Db",2:"D",3:"Eb",4:"E",5:"F",6:"Gb",7:"G",8:"Ab",9:"A",10:"Bb",11:"B"},h=function(e,n){return e>=12||0>e?"":"#"===n?j[e]:b[e]},m={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},f=function(e){return m[e]},v=t(0),g=12,x=40,O=32,p=15,y=30,S=function(e){var n=e.mode,t=e.settings,r=e.chordprops,i=e.scaleprops,c=x+O*(t.fletnumber+1),a=2+O*t.fletnumber,l=y*(t.tuning.length-1)+2,u=y*(t.tuning.length-1)+30+20,d=u+10,s=[];"Scale"===n&&(s=C(t.tuning,t.fletnumber,i.root,i.scale.interval)),"Chord"===n&&(s=C(t.tuning,t.fletnumber,r.root,r.chord.interval));var j=function(e){return"Scale"===n?0===e?"#e74c3c":"#e77b3c":0===e?"#e74c3c":2===e?"#a366cc":3===e?"#4f8be3":4===e?"#e6a23c":5===e?"#c47693":7===e?"#888":9===e?"#50875e":10===e?"#a5b32e":11===e?"#66cca7":"#888"};return Object(v.jsxs)("div",{style:w,children:[Object(v.jsx)("div",{children:function(){for(var e=[],n=0;n<t.tuning.length;n++)e.push(Object(v.jsx)("text",{x:"10",y:p+y*n,fontSize:20,fill:"#888",textAnchor:"middle",dominantBaseline:"central",children:h(t.tuning[n],t.accidental)},"tuning-string-"+n));return Object(v.jsx)("svg",{width:"20",height:d,viewBox:"0 0 20 "+d,children:e})}()}),Object(v.jsx)("div",{style:F,children:Object(v.jsxs)("svg",{width:c,height:d,viewBox:"0 0 "+c+" "+d,children:[Object(v.jsx)("rect",{x:30,y:p,width:10,height:l,fill:"#888"}),Object(o.a)(Array(t.fletnumber+1)).map((function(e,n){return n})).map((function(e){return Object(v.jsx)("rect",{x:O*e+x,y:p,width:2,height:l,fill:"#888"},"line-flet-"+e)})),Object(o.a)(Array(t.tuning.length)).map((function(e,n){return n})).map((function(e){return Object(v.jsx)("rect",{x:x,y:p+y*e,width:a,height:2,fill:"#888"},"line-string-"+e)})),Object(v.jsx)("text",{x:15,y:u,fontSize:20,fill:"#888",textAnchor:"middle",children:"0"}),Object(o.a)(Array(t.fletnumber)).map((function(e,n){return n+1})).map((function(e){return Object(v.jsx)("text",{x:x+O*(e-1)+17,y:u,fontSize:20,fill:"#888",textAnchor:"middle",children:e},"text-flet-"+e)})),function(){for(var e=[],n=0;n<6;n++){var r=s[n][0];void 0!==r&&(e.push(Object(v.jsx)("circle",{cx:15,cy:p+y*n,r:g,fill:j(r.degree)},"mark-circle-string-"+n.toString()+"_flet-0")),e.push(Object(v.jsx)("text",{x:15,y:p+y*n,fontSize:14,fontWeight:"bold",fill:"#FFF",textAnchor:"middle",dominantBaseline:"central",children:h(r.num,t.accidental)},"mark-text-string-"+n.toString()+"_flet-0")))}for(var i=0;i<6;i++)for(var c=1;c<=t.fletnumber;c++){var a=s[i][c];void 0!==a&&(e.push(Object(v.jsx)("circle",{cx:x+O*(c-1)+17,cy:p+y*i,r:g,fill:j(a.degree)},"mark-circle-string-"+i.toString()+"_flet-"+c.toString())),e.push(Object(v.jsx)("text",{x:x+O*(c-1)+17,y:p+y*i,fontSize:14,fontWeight:"bold",fill:"#FFF",textAnchor:"middle",dominantBaseline:"central",children:h(a.num,t.accidental)},"mark-text-string-"+i.toString()+"_flet-"+c.toString())))}return e}()]})})]})},C=function(e,n,t,r){for(var i=[],c=0;c<6;c++){for(var a=[],l=function(n){var i=(e[c]+n)%12,l=r.find((function(e){return(e+t)%12===i}));if(void 0!==l){var o={num:i,degree:l};a.push(o)}else a.push(void 0)},o=0;o<=n;o++)l(o);i.push(a)}return i},w={display:"flex"},F={overflow:"auto",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch"},A=function(e){var n=e.show,t=e.setShow,r=e.tuning,i=e.setTuning,c=e.accidental,a=e.setAccidental,l=function(e){a(e.currentTarget.value)};return Object(v.jsx)(v.Fragment,{children:!0===n&&Object(v.jsx)("div",{style:k,children:Object(v.jsxs)("div",{style:M,children:[Object(v.jsx)("p",{children:"Settings"}),Object(v.jsx)("p",{children:"Accidental"}),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"radio",name:"accidental",value:"#",checked:"#"===c,onChange:l}),"#(Sharp)",Object(v.jsx)("input",{type:"radio",name:"accidental",value:"b",checked:"b"===c,onChange:l}),"b(Flat)"]}),Object(v.jsx)("p",{children:"Tuning"}),function(){for(var e=[],n=function(n){e.push(Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){return i(n,-1)},children:"<"})," ",h(r[n],c)," ",Object(v.jsx)("button",{onClick:function(){return i(n,1)},children:">"})]},"tuning-string-"+n))},t=0;t<r.length;t++)n(t);return e}(),Object(v.jsx)("p",{children:Object(v.jsx)("button",{onClick:function(){return t(!1)},children:"close"})})]})})})},k={zIndex:10,position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},M={zIndex:20,width:"70%",padding:"0.5em",borderRadius:"5px",backgroundColor:"#FFF"},B=function(){var e=Object(r.useState)("Scale"),n=Object(u.a)(e,2),t=n[0],i=n[1],c=Object(r.useState)({root:0,chord:d[0]}),a=Object(u.a)(c,2),l=a[0],j=a[1],b=Object(r.useState)({root:0,scale:s[0]}),m=Object(u.a)(b,2),g=m[0],x=m[1],O=Object(r.useState)(!1),p=Object(u.a)(O,2),y=p[0],C=p[1],w=Object(r.useState)({tuning:[4,11,7,2,9,4],fletnumber:21,accidental:"#"}),F=Object(u.a)(w,2),k=F[0],M=F[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:"Scale Viewer"}),Object(v.jsx)("button",{onClick:function(){return i("Scale")},children:"ScaleMode"}),Object(v.jsx)("button",{onClick:function(){return i("Chord")},children:"ChordMode"}),Object(v.jsx)("button",{onClick:function(){return C(!0)},children:"settings"}),Object(v.jsx)(A,{show:y,setShow:C,tuning:k.tuning,setTuning:function(e,n){var t=(k.tuning[e]+n+12)%12,r=Object(o.a)(k.tuning);r[e]=t,M({tuning:r,fletnumber:k.fletnumber,accidental:k.accidental})},accidental:k.accidental,setAccidental:function(e){M({tuning:k.tuning,fletnumber:k.fletnumber,accidental:e})}}),"Scale"===t&&Object(v.jsxs)("div",{children:[Object(v.jsx)("select",{style:T,onChange:function(e){return function(e){x({root:f(e.currentTarget.value),scale:g.scale})}(e)},value:h(g.root,k.accidental),children:Object(o.a)(Array(12)).map((function(e,n){return h(n,k.accidental)})).map((function(e){return Object(v.jsx)("option",{value:e,children:e},e)}))}),Object(v.jsx)("select",{style:T,onChange:function(e){return function(e){var n=s.find((function(n){return e.currentTarget.value===n.name}));void 0!==n&&x({root:g.root,scale:n})}(e)},value:g.scale.name,children:s.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),"Chord"===t&&Object(v.jsxs)("div",{children:[Object(v.jsx)("select",{style:T,onChange:function(e){return function(e){j({root:f(e.currentTarget.value),chord:l.chord})}(e)},value:h(l.root,k.accidental),children:Object(o.a)(Array(12)).map((function(e,n){return h(n,k.accidental)})).map((function(e){return Object(v.jsx)("option",{value:e,children:e},e)}))}),Object(v.jsx)("select",{style:T,onChange:function(e){return function(e){var n=d.find((function(n){return e.currentTarget.value===n.name}));void 0!==n&&j({root:l.root,chord:n})}(e)},value:l.chord.name,children:d.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(v.jsx)(S,{mode:t,settings:k,chordprops:l,scaleprops:g})]})},T={fontSize:"24px"};a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root")),l()}},[[14,1,2]]]);
//# sourceMappingURL=main.286849b6.chunk.js.map